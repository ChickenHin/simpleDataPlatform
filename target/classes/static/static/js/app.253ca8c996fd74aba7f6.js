webpackJsonp([1],{"+GGk":function(t,e,n){"use strict";var i=n("zIVT");function a(){this.handlers=[]}a.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},a.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},a.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=a},"/VWB":function(t,e,n){"use strict";var i=n("RlDD");function a(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),e(n.reason))})}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var t;return{token:new a(function(e){t=e}),cancel:t}},t.exports=a},"0l+G":function(t,e,n){"use strict";var i=n("obgR");t.exports=function(t,e,n,a,r){var o=new Error(t);return i(o,e,n,a,r)}},"1DmB":function(t,e,n){"use strict";var i=n("zIVT");t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=a(window.location.href),function(e){var n=i.isString(e)?a(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},"4nb4":function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},"5aBc":function(t,e,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function a(){this.message="String contains an invalid character"}a.prototype=new Error,a.prototype.code=5,a.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,r=String(t),o="",s=0,p=i;r.charAt(0|s)||(p="=",s%1);o+=p.charAt(63&e>>8-s%1*8)){if((n=r.charCodeAt(s+=.75))>255)throw new a;e=e<<8|n}return o}},"7LYE":function(t,e,n){"use strict";var i=n("zIVT"),a=n("wZW9"),r=n("RS1v"),o=n("9T8H"),s=n("1DmB"),p=n("0l+G"),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n("5aBc");t.exports=function(t){return new Promise(function(e,u){var l=t.data,f=t.headers;i.isFormData(l)&&delete f["Content-Type"];var d=new XMLHttpRequest,h="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||s(t.url)||(d=new window.XDomainRequest,h="onload",m=!0,d.onprogress=function(){},d.ontimeout=function(){}),t.auth){var v=t.auth.username||"",g=t.auth.password||"";f.Authorization="Basic "+c(v+":"+g)}if(d.open(t.method.toUpperCase(),r(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[h]=function(){if(d&&(4===d.readyState||m)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?o(d.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:t,request:d};a(e,u,i),d=null}},d.onerror=function(){u(p("Network Error",t,null,d)),d=null},d.ontimeout=function(){u(p("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},i.isStandardBrowserEnv()){var y=n("OhlP"),A=(t.withCredentials||s(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;A&&(f[t.xsrfHeaderName]=A)}if("setRequestHeader"in d&&i.forEach(f,function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete f[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),u(t),d=null)}),void 0===l&&(l=null),d.send(l)})}},"9RB6":function(t,e,n){"use strict";var i=n("T2kP"),a=n("zIVT"),r=n("+GGk"),o=n("U2+V");function s(t){this.defaults=t,this.interceptors={request:new r,response:new r}}s.prototype.request=function(t){"string"==typeof t&&(t=a.merge({url:arguments[0]},arguments[1])),(t=a.merge(i,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[o,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},a.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,n){return this.request(a.merge(n||{},{method:t,url:e}))}}),a.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,n,i){return this.request(a.merge(i||{},{method:t,url:e,data:n}))}}),t.exports=s},"9T8H":function(t,e,n){"use strict";var i=n("zIVT"),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,r,o={};return t?(i.forEach(t.split("\n"),function(t){if(r=t.indexOf(":"),e=i.trim(t.substr(0,r)).toLowerCase(),n=i.trim(t.substr(r+1)),e){if(o[e]&&a.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}}),o):o}},"9hOt":function(t,e){},BTlr:function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},C9l1:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},"Ex+b":function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},HXpE:function(t,e,n){"use strict";var i=n("zIVT"),a=n("4nb4"),r=n("9RB6"),o=n("T2kP");function s(t){var e=new r(t),n=a(r.prototype.request,e);return i.extend(n,r.prototype,e),i.extend(n,e),n}var p=s(o);p.Axios=r,p.create=function(t){return s(i.merge(o,t))},p.Cancel=n("RlDD"),p.CancelToken=n("/VWB"),p.isCancel=n("C9l1"),p.all=function(t){return Promise.all(t)},p.spread=n("Kbjq"),t.exports=p,t.exports.default=p},KX8E:function(t,e){},Kbjq:function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},Mz0A:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("指标展示平台")])])}]};var r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("ul",[e("li",[e("router-link",{attrs:{to:"/dataShow"}},[this._v("///  数据展示")])],1),this._v(" "),e("li",[e("router-link",{attrs:{to:"/configShow"}},[this._v("///  配置查看")])],1),this._v(" "),e("li",[e("router-link",{attrs:{to:"/pullData"}},[this._v("///  数据拉取")])],1)])])},staticRenderFns:[]};var o={components:{headerbar:n("VU/8")({name:"Header"},a,!1,function(t){n("gmx3")},"data-v-041c8ae2",null).exports,sidebar:n("VU/8")({name:"Sidebar"},r,!1,function(t){n("Y2MO")},"data-v-2ec7216c",null).exports},beforeCreate:function(){document.getElementsByTagName("body")[0].className="app_body",document.getElementsByTagName("html")[0].className="app_html"}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("headerbar"),this._v(" "),e("sidebar"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var p=n("VU/8")(o,s,!1,function(t){n("Mz0A")},null,null).exports,c=n("/ocq"),u={name:"DataShow",data:function(){return{serviceList:[],selectedApartment:0,appkeyList:[],apiLists:[],apiLegend:[],optApiLists:[],optApiLegend:[],timeList:["2018-10-01","2018-10-02","2018-10-03","2018-10-04","2018-10-05","2018-10-06","2018-10-07","2018-10-08","2018-10-09","2018-10-10","2018-10-11","2018-10-12","2018-10-13","2018-10-14","2018-10-15","2018-10-16","2018-10-17","2018-10-18","2018-10-19","2018-10-20","2018-10-21","2018-10-22","2018-10-23","2018-10-24","2018-10-25","2018-10-26","2018-10-27","2018-10-28","2018-10-29","2018-10-30","2018-10-31","2018-11-01","2018-11-02","2018-11-03","2018-11-04","2018-11-05","2018-11-06","2018-11-07","2018-11-08","2018-11-09","2018-11-10","2018-11-11","2018-11-12","2018-11-13","2018-11-14","2018-11-15","2018-11-16","2018-11-17","2018-11-18","2018-11-19","2018-11-20","2018-11-21","2018-11-22","2018-11-23","2018-11-24","2018-11-25","2018-11-26","2018-11-27","2018-11-28","2018-11-29","2018-11-30","2018-12-01","2018-12-02","2018-12-03","2018-12-04","2018-12-05","2018-12-06","2018-12-07","2018-12-08","2018-12-09","2018-12-10","2018-12-11","2018-12-12","2018-12-13","2018-12-14","2018-12-15","2018-12-16","2018-12-17","2018-12-18","2018-12-19","2018-12-20","2018-12-21","2018-12-22","2018-12-23","2018-12-24","2018-12-25","2018-12-26","2018-12-27","2018-12-28","2018-12-29","2018-12-30","2018-12-31","2019-01-01","2019-01-02","2019-01-03","2019-01-04","2019-01-05","2019-01-06","2019-01-07","2019-01-08","2019-01-09","2019-01-10","2019-01-11","2019-01-12","2019-01-13","2019-01-14","2019-01-15","2019-01-16","2019-01-17","2019-01-18","2019-01-19","2019-01-20","2019-01-21","2019-01-22","2019-01-23","2019-01-24","2019-01-25","2019-01-26","2019-01-27","2019-01-28","2019-01-29","2019-01-30","2019-01-31","2019-02-01","2019-02-02","2019-02-03","2019-02-04","2019-02-05","2019-02-06","2019-02-07","2019-02-08","2019-02-09","2019-02-10","2019-02-11","2019-02-12","2019-02-13","2019-02-14","2019-02-15","2019-02-16","2019-02-17","2019-02-18","2019-02-19","2019-02-20","2019-02-21","2019-02-22","2019-02-23","2019-02-24","2019-02-25","2019-02-26","2019-02-27","2019-02-28","2019-03-01","2019-03-02","2019-03-03","2019-03-04","2019-03-05","2019-03-06","2019-03-07","2019-03-08","2019-03-09","2019-03-10","2019-03-11","2019-03-12","2019-03-13","2019-03-14","2019-03-15","2019-03-16","2019-03-17","2019-03-18","2019-03-19","2019-03-20","2019-03-21","2019-03-22","2019-03-23","2019-03-24","2019-03-25","2019-03-26","2019-03-27","2019-03-28","2019-03-29","2019-03-30","2019-03-31"],startTime:"",endTime:"",timeOption:[],tp95Option:[],tp99Option:[],succOption:[],apiTp95Option:[],apiTp99Option:[],optApiTp95Option:[],optApiTp99Option:[]}},created:function(){var t=this;this.$axios.get("/api/getApartment").then(function(e){t.serviceList=e.data,t.selectedApartment=t.serviceList[0],t.$axios.get("/api/getAppkeyAndApi",{params:{apartment:t.selectedApartment}}).then(function(e){t.appkeyList=e.data;for(var n=0,i=t.appkeyList.length;n<i;n++){var a=t.appkeyList[n].apiList;console.log(a,111111);for(var r=0,o=a.length;r<o;r++){var s=a[r].api;t.apiLists.push(s),a[r].opt&&t.optApiLists.push(s)}}}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},mounted:function(){this.getRecentDate()},methods:{drawTP95:function(){var t=this.$echarts.init(this.$refs.tp95_chart),e={title:{text:"APPKEY_TP95"},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:this.timeOption},yAxis:{type:"value"},series:this.tp95Option};t.setOption(e,!0)},drawTP99:function(){var t=this.$echarts.init(this.$refs.tp99_chart),e={title:{text:"APPKEY_TP99"},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:this.timeOption},yAxis:{type:"value"},series:this.tp99Option};t.setOption(e,!0)},drawSucc:function(){var t=this.$echarts.init(this.$refs.succ_chart),e={title:{text:"APPKEY_SUCCESSRATE"},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:this.timeOption},yAxis:{type:"value",axisLabel:{formatter:function(t,e){return t.toFixed(2)}},min:90,max:100,split:10},series:this.succOption};t.setOption(e,!0)},drawApiTP95:function(){this.handleLegend();var t=this.$echarts.init(this.$refs.api_tp95_chart),e={title:{text:"API_TP95"},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:this.timeOption},yAxis:{type:"value"},series:this.apiTp95Option};t.setOption(e,!0)},drawApiTP99:function(){this.handleLegend();var t=this.$echarts.init(this.$refs.api_tp99_chart),e={title:{text:"API_TP99"},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:this.timeOption},yAxis:{type:"value"},series:this.apiTp99Option};t.setOption(e,!0)},drawOptApiTP95:function(){var t=this.$echarts.init(this.$refs.opt_api_tp95_chart),e={title:{text:"OPT_API_TP95"},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:this.timeOption},yAxis:{type:"value"},series:this.optApiTp95Option};t.setOption(e,!0)},drawOptApiTP99:function(){var t=this.$echarts.init(this.$refs.opt_api_tp99_chart),e={title:{text:"OPT_API_TP99"},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:this.timeOption},yAxis:{type:"value"},series:this.optApiTp99Option};t.setOption(e,!0)},selectApartment:function(){var t=this;this.$axios.get("/api/getAppkeyAndApi",{params:{apartment:this.selectedApartment}}).then(function(e){t.appkeyList=e.data,t.apiLists=[],t.optApiLists=[];for(var n=0,i=t.appkeyList.length;n<i;n++)for(var a=t.appkeyList[n].apiList,r=0,o=a.length;r<o;r++){var s=a[r].api;t.apiLists.push(s),a[r].opt&&t.optApiLists.push(s)}}).catch(function(t){console.log(t)})},getRecentDate:function(){var t=new Date,e=t.getMonth()+1;e<=9&&(e="0"+e);var n=t.getDate();n<=9&&(n="0"+n);var i=t.getFullYear()+"-"+e+"-"+n;this.startTime=i,this.endTime=i},getAllDayInRange:function(t,e){if(!t||!e)return alert("开始或结束时间不能为空"),!1;Date.prototype.format=function(){var t="",e=this.getMonth()+1,n=this.getDate();return t+=this.getFullYear()+"-",t+=e+"-",t+=n};var n=t.split("-"),i=e.split("-"),a=new Date;a.setUTCFullYear(n[0],n[1]-1,n[2]);var r=new Date;r.setUTCFullYear(i[0],i[1]-1,i[2]);for(var o=a.getTime(),s=r.getTime(),p=[],c=o;c<=s;)p.push(new Date(parseInt(c)).format()),c+=864e5;return p},handleLegend:function(){this.apiLegend=this.apiLists,this.optApiLegend=this.optApiLists;var t=["","",""];this.apiLegend=t.concat(this.apiLegend),this.optApiLegend=t.concat(this.optApiLegend)},getAppkeyData:function(){return this.$axios.get("/api/getAppkeyOctoData",{params:{apartment:this.selectedApartment,startTime:this.startTime,endTime:this.endTime}})},getApiData:function(){return this.$axios.get("/api/getApiOctoData",{params:{apartment:this.selectedApartment,startTime:this.startTime,endTime:this.endTime}})},getOptApiData:function(){return this.$axios.get("/api/getOptApiOctoData",{params:{apartment:this.selectedApartment,startTime:this.startTime,endTime:this.endTime}})},calAppkeyData:function(t){this.tp95Option=[],this.tp99Option=[],this.succOption=[];for(var e=t.data,n=[],i=0,a=this.appkeyList.length;i<a;i++){for(var r=this.appkeyList[i].appkey,o=[],s=[],p=[],c=0,u=(n=e[r]).length;c<u;c++)o.push(n[c].tp95),s.push(n[c].tp99),p.push(n[c].successrate);var l={name:r,type:"line",data:o},f={name:r,type:"line",data:s},d={name:r,type:"line",data:p};this.tp95Option.push(l),this.tp99Option.push(f),this.succOption.push(d)}this.drawTP95(),this.drawTP99(),this.drawSucc()},calApiData:function(t){this.apiTp95Option=[],this.apiTp99Option=[];var e=t.data;console.log(e,111111);for(var n=[],i=0,a=this.apiLists.length;i<a;i++){for(var r=this.apiLists[i],o=[],s=[],p=0,c=(n=e[r]).length;p<c;p++)o.push(n[p].tp95),s.push(n[p].tp99);var u={name:r,type:"line",data:o},l={name:r,type:"line",data:s};this.apiTp95Option.push(u),this.apiTp99Option.push(l)}console.log(this.apiTp95Option),this.drawApiTP95(),this.drawApiTP99()},calOptApiData:function(t){this.optApiTp95Option=[],this.optApiTp99Option=[];for(var e=t.data,n=[],i=0,a=this.optApiLists.length;i<a;i++){for(var r=this.optApiLists[i],o=[],s=[],p=0,c=(n=e[r]).length;p<c;p++)o.push(n[p].tp95),s.push(n[p].tp99);var u={name:r,type:"line",data:o},l={name:r,type:"line",data:s};this.optApiTp95Option.push(u),this.optApiTp99Option.push(l)}this.drawOptApiTP95(),this.drawOptApiTP99()},confirmQuery:function(){var t=this;this.$axios.all([this.getAppkeyData(),this.getApiData(),this.getOptApiData()]).then(this.$axios.spread(function(e,n,i){t.timeOption=t.getAllDayInRange(t.startTime,t.endTime),t.calAppkeyData(e),t.calApiData(n),t.calOptApiData(i)})).catch(function(t){console.log(t)})}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app_body"},[n("div",{staticClass:"choose"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedApartment,expression:"selectedApartment"}],attrs:{id:"service-select"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedApartment=e.target.multiple?n:n[0]},t.selectApartment]}},t._l(t.serviceList,function(e,i){return n("option",{key:i},[t._v(t._s(e))])}),0),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.startTime,expression:"startTime"}],staticClass:"time-select",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.startTime=e.target.multiple?n:n[0]}}},t._l(t.timeList,function(e,i){return n("option",{key:i},[t._v(t._s(e))])}),0),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.endTime,expression:"endTime"}],staticClass:"time-select",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.endTime=e.target.multiple?n:n[0]}}},t._l(t.timeList,function(e,i){return n("option",{key:i},[t._v(t._s(e))])}),0),t._v(" "),n("button",{on:{click:t.confirmQuery}},[t._v("查  询")])]),t._v(" "),n("div",{ref:"tp95_chart",staticClass:"chart",attrs:{id:"tp95_chart"}}),t._v(" "),n("div",{ref:"tp99_chart",staticClass:"chart",attrs:{id:"tp99_chart"}}),t._v(" "),n("div",{ref:"succ_chart",staticClass:"chart",attrs:{id:"succ_chart"}}),t._v(" "),n("div",{ref:"api_tp95_chart",staticClass:"chart",attrs:{id:"api_tp95_chart"}}),t._v(" "),n("div",{ref:"api_tp99_chart",staticClass:"chart",attrs:{id:"api_tp99_chart"}}),t._v(" "),n("div",{ref:"opt_api_tp95_chart",staticClass:"chart",attrs:{id:"opt_api_tp95_chart"}}),t._v(" "),n("div",{ref:"opt_api_tp99_chart",staticClass:"chart",attrs:{id:"opt_api_tp99_chart"}})])},staticRenderFns:[]};var f=n("VU/8")(u,l,!1,function(t){n("KX8E")},"data-v-5193b30e",null).exports,d={data:function(){return{inputVal:"",inputAppkey:"",inputApi:"",isOptApi:!1}},props:{type:Number},mounted:function(){this.data=this.type},methods:{confirmAddAppkey:function(){this.$emit("confirmAdd",this.inputVal)},cancleAdd:function(){this.$emit("cancleAdd")},confirmAddApi:function(){var t={appkey:this.inputAppkey,api:this.inputApi,opt:this.isOptApi};this.$emit("confirmAdd",t)}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"shade"}),t._v(" "),n("div",{staticClass:"layer"},[n("div",{staticClass:"layer-head"}),t._v(" "),1==t.type?n("div",{staticClass:"layer-body"},[n("form",[n("label",[t._v("请输入appkey")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],attrs:{placeholder:"请输入appkey，可输入多个，用英文逗号隔开"},domProps:{value:t.inputVal},on:{input:function(e){e.target.composing||(t.inputVal=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"btns"},[n("button",{staticClass:"confirm-btn",on:{click:function(e){return t.confirmAddAppkey()}}},[t._v("确  认")]),t._v(" "),n("button",{staticClass:"cancle-btn",on:{click:function(e){return t.cancleAdd()}}},[t._v("取  消")])])]):t._e(),t._v(" "),2==t.type?n("div",{staticClass:"layer-body"},[n("label",[t._v("请输入appkey")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputAppkey,expression:"inputAppkey"}],staticClass:"text_input",domProps:{value:t.inputAppkey},on:{input:function(e){e.target.composing||(t.inputAppkey=e.target.value)}}}),t._v(" "),n("label",[t._v("请输入api")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputApi,expression:"inputApi"}],staticClass:"text_input",domProps:{value:t.inputApi},on:{input:function(e){e.target.composing||(t.inputApi=e.target.value)}}}),t._v(" "),n("form",{staticClass:"radio_form"},[n("p",[t._v("是否待优化接口")]),t._v(" "),n("div",{staticClass:"radio_div"},[n("label",{staticClass:"radio_label"},[n("input",{staticClass:"radio_input",attrs:{type:"radio",value:"1",name:"opt"},on:{select:function(t){this.isOptApi=!0}}}),t._v("是\n          ")]),t._v(" "),n("label",{staticClass:"radio_label"},[n("input",{staticClass:"radio_input",attrs:{type:"radio",value:"0",name:"opt"},on:{select:function(t){this.isOptApi=!1}}}),t._v("否\n          ")])])]),t._v(" "),n("div",{staticClass:"btns"},[n("button",{staticClass:"confirm-btn",on:{click:function(e){return t.confirmAddApi()}}},[t._v("确  认")]),t._v(" "),n("button",{staticClass:"cancle-btn",on:{click:function(e){return t.cancleAdd()}}},[t._v("取  消")])])]):t._e()])])},staticRenderFns:[]};var m={name:"ConfigShow",data:function(){return{serviceList:[],selectedApartment:0,appkeyList:[],appkeyLayerFlag:!1,apiLayerFlag:!1,inputVal:""}},created:function(){var t=this;this.$axios.get("/api/getApartment").then(function(e){t.serviceList=e.data,t.selectedApartment=t.serviceList[0],t.$axios.get("/api/getAppkeyAndApi",{params:{apartment:t.selectedApartment}}).then(function(e){t.appkeyList=e.data}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},methods:{addAppkey:function(){this.appkeyLayerFlag=!0},cancleAddAppkey:function(){this.appkeyLayerFlag=!1},confirmAddAppkey:function(t){this.appkeyLayerFlag=!1,this.$axios.post("/api/addAppkey",this.qs.stringify({apartment:this.selectedApartment,appkey:t,api:t})).then(function(t){console.log(t.data)}).catch(function(t){console.log(t)})},addApi:function(){this.apiLayerFlag=!0},cancleAddApi:function(){this.apiLayerFlag=!1},confirmAddApi:function(t){this.apiLayerFlag=!1,this.$axios.post("/api/addApi",this.qs.stringify({apartment:this.selectedApartment,appkey:t.appkey,api:t.api,opt:t.opt})).then(function(t){console.log(t.data)}).catch(function(t){console.log(t)})},selectApartment:function(){var t=this;this.$axios.get("/api/getAppkeyAndApi",{params:{apartment:this.selectedApartment}}).then(function(e){t.appkeyList=e.data,console.log(t.appkeyList)}).catch(function(t){console.log(t)})}},components:{Layer:n("VU/8")(d,h,!1,function(t){n("9hOt")},"data-v-4b1bab76",null).exports}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app_body"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedApartment,expression:"selectedApartment"}],attrs:{id:"service-select"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedApartment=e.target.multiple?n:n[0]},t.selectApartment]}},t._l(t.serviceList,function(e,i){return n("option",{key:i},[t._v(t._s(e))])}),0),t._v(" "),n("button",{staticClass:"add-btn",on:{click:function(e){return t.addAppkey()}}},[t._v("添加appkey")]),t._v(" "),n("button",{staticClass:"add-btn",on:{click:function(e){return t.addApi()}}},[t._v("添加接口")]),t._v(" "),t.appkeyLayerFlag?n("layer",{attrs:{type:1},on:{confirmAdd:t.confirmAddAppkey,cancleAdd:t.cancleAddAppkey}}):t._e(),t._v(" "),t.apiLayerFlag?n("layer",{attrs:{type:2},on:{confirmAdd:t.confirmAddApi,cancleAdd:t.cancleAddApi}}):t._e(),t._v(" "),n("table",[t._m(0),t._v(" "),n("tbody",t._l(t.appkeyList,function(e,i){return n("tr",{key:i},[n("td",[t._v(t._s(e.appkey))]),t._v(" "),n("td",t._l(e.apiList,function(e,i){return n("div",{key:i},[n("span",[t._v(t._s(e.api))]),t._v(" "),e.opt?n("span",[t._v("*")]):t._e()])}),0)])}),0)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("appkey")]),this._v(" "),e("th",[this._v("api(*为待优化接口)")])])])}]};var g=n("VU/8")(m,v,!1,function(t){n("wN4o")},"data-v-057c2e6b",null).exports,y={name:"ConfigShow",data:function(){return{serviceList:[],selectedApartment:0,timeList:["2018-10-01","2018-10-02","2018-10-03","2018-10-04","2018-10-05","2018-10-06","2018-10-07","2018-10-08","2018-10-09","2018-10-10","2018-10-11","2018-10-12","2018-10-13","2018-10-14","2018-10-15","2018-10-16","2018-10-17","2018-10-18","2018-10-19","2018-10-20","2018-10-21","2018-10-22","2018-10-23","2018-10-24","2018-10-25","2018-10-26","2018-10-27","2018-10-28","2018-10-29","2018-10-30","2018-10-31","2018-11-01","2018-11-02","2018-11-03","2018-11-04","2018-11-05","2018-11-06","2018-11-07","2018-11-08","2018-11-09","2018-11-10","2018-11-11","2018-11-12","2018-11-13","2018-11-14","2018-11-15","2018-11-16","2018-11-17","2018-11-18","2018-11-19","2018-11-20","2018-11-21","2018-11-22","2018-11-23","2018-11-24","2018-11-25","2018-11-26","2018-11-27","2018-11-28","2018-11-29","2018-11-30","2018-12-01","2018-12-02","2018-12-03","2018-12-04","2018-12-05","2018-12-06","2018-12-07","2018-12-08","2018-12-09","2018-12-10","2018-12-11","2018-12-12","2018-12-13","2018-12-14","2018-12-15","2018-12-16","2018-12-17","2018-12-18","2018-12-19","2018-12-20","2018-12-21","2018-12-22","2018-12-23","2018-12-24","2018-12-25","2018-12-26","2018-12-27","2018-12-28","2018-12-29","2018-12-30","2018-12-31","2019-01-01","2019-01-02","2019-01-03","2019-01-04","2019-01-05","2019-01-06","2019-01-07","2019-01-08","2019-01-09","2019-01-10","2019-01-11","2019-01-12","2019-01-13","2019-01-14","2019-01-15","2019-01-16","2019-01-17","2019-01-18","2019-01-19","2019-01-20","2019-01-21","2019-01-22","2019-01-23","2019-01-24","2019-01-25","2019-01-26","2019-01-27","2019-01-28","2019-01-29","2019-01-30","2019-01-31","2019-02-01","2019-02-02","2019-02-03","2019-02-04","2019-02-05","2019-02-06","2019-02-07","2019-02-08","2019-02-09","2019-02-10","2019-02-11","2019-02-12","2019-02-13","2019-02-14","2019-02-15","2019-02-16","2019-02-17","2019-02-18","2019-02-19","2019-02-20","2019-02-21","2019-02-22","2019-02-23","2019-02-24","2019-02-25","2019-02-26","2019-02-27","2019-02-28","2019-03-01","2019-03-02","2019-03-03","2019-03-04","2019-03-05","2019-03-06","2019-03-07","2019-03-08","2019-03-09","2019-03-10","2019-03-11","2019-03-12","2019-03-13","2019-03-14","2019-03-15","2019-03-16","2019-03-17","2019-03-18","2019-03-19","2019-03-20","2019-03-21","2019-03-22","2019-03-23","2019-03-24","2019-03-25","2019-03-26","2019-03-27","2019-03-28","2019-03-29","2019-03-30","2019-03-31"],startTime:"",endTime:""}},created:function(){var t=this;this.$axios.get("/api/getApartment").then(function(e){t.serviceList=e.data,t.selectedApartment=t.serviceList[0],t.$axios.get("/api/getAppkeyAndApi",{params:{apartment:t.selectedApartment}}).then(function(t){}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},methods:{pullData:function(){this.$axios.get("/api/pullOctoDataInRange",{params:{apartment:this.selectedApartment,startTime:this.startTime,endTime:this.endTime}}).then(function(t){alert("成功")}).catch(function(t){alert("失败")})}}},A={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app_body"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedApartment,expression:"selectedApartment"}],attrs:{id:"service-select"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedApartment=e.target.multiple?n:n[0]},t.selectApartment]}},t._l(t.serviceList,function(e,i){return n("option",{key:i},[t._v(t._s(e))])}),0),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.startTime,expression:"startTime"}],staticClass:"time-select",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.startTime=e.target.multiple?n:n[0]}}},t._l(t.timeList,function(e,i){return n("option",{key:i},[t._v(t._s(e))])}),0),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.endTime,expression:"endTime"}],staticClass:"time-select",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.endTime=e.target.multiple?n:n[0]}}},t._l(t.timeList,function(e,i){return n("option",{key:i},[t._v(t._s(e))])}),0),t._v(" "),n("button",{on:{click:t.pullData}},[t._v("拉取数据")])])},staticRenderFns:[]};var _=n("VU/8")(y,A,!1,function(t){n("yiQm")},"data-v-ff5c93da",null).exports;i.a.use(c.a);var x=new c.a({routes:[{path:"/dataShow",name:"DataShow",component:f},{path:"/configShow",name:"ConfigShow",component:g},{path:"/pullData",name:"PullData",component:_}]}),T=n("uj17"),b=n.n(T),w=n("mw3O"),L=n.n(w),k=n("XLwt"),O=n.n(k);i.a.prototype.$echarts=O.a,i.a.prototype.qs=L.a,i.a.config.productionTip=!1,Object.defineProperty(i.a.prototype,"$axios",{value:b.a}),b.a.defaults.withCredentials=!0,new i.a({el:"#app",router:x,components:{App:p},template:"<App/>"})},OhlP:function(t,e,n){"use strict";var i=n("zIVT");t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,a,r,o){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(a)&&s.push("path="+a),i.isString(r)&&s.push("domain="+r),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},RS1v:function(t,e,n){"use strict";var i=n("zIVT");function a(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var r;if(n)r=n(e);else if(i.isURLSearchParams(e))r=e.toString();else{var o=[];i.forEach(e,function(t,e){null!==t&&void 0!==t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),o.push(a(e)+"="+a(t))}))}),r=o.join("&")}return r&&(t+=(-1===t.indexOf("?")?"?":"&")+r),t}},RlDD:function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},T2kP:function(t,e,n){"use strict";(function(e){var i=n("zIVT"),a=n("TOXd"),r={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,p={adapter:("undefined"!=typeof XMLHttpRequest?s=n("7LYE"):void 0!==e&&(s=n("7LYE")),s),transformRequest:[function(t,e){return a(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};p.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(t){p.headers[t]={}}),i.forEach(["post","put","patch"],function(t){p.headers[t]=i.merge(r)}),t.exports=p}).call(e,n("W2nU"))},TOXd:function(t,e,n){"use strict";var i=n("zIVT");t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},"U2+V":function(t,e,n){"use strict";var i=n("zIVT"),a=n("i7gz"),r=n("C9l1"),o=n("T2kP"),s=n("Ex+b"),p=n("BTlr");function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!s(t.url)&&(t.url=p(t.baseURL,t.url)),t.headers=t.headers||{},t.data=a(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||o.adapter)(t).then(function(e){return c(t),e.data=a(e.data,e.headers,t.transformResponse),e},function(e){return r(e)||(c(t),e&&e.response&&(e.response.data=a(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},Y2MO:function(t,e){},ZH5x:function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},gmx3:function(t,e){},i7gz:function(t,e,n){"use strict";var i=n("zIVT");t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},obgR:function(t,e,n){"use strict";t.exports=function(t,e,n,i,a){return t.config=e,n&&(t.code=n),t.request=i,t.response=a,t}},uj17:function(t,e,n){t.exports=n("HXpE")},wN4o:function(t,e){},wZW9:function(t,e,n){"use strict";var i=n("0l+G");t.exports=function(t,e,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},yiQm:function(t,e){},zIVT:function(t,e,n){"use strict";var i=n("4nb4"),a=n("ZH5x"),r=Object.prototype.toString;function o(t){return"[object Array]"===r.call(t)}function s(t){return null!==t&&"object"==typeof t}function p(t){return"[object Function]"===r.call(t)}function c(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===r.call(t)},isBuffer:a,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:p,isStream:function(t){return s(t)&&p(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]=n}for(var i=0,a=arguments.length;i<a;i++)c(arguments[i],n);return e},extend:function(t,e,n){return c(e,function(e,a){t[a]=n&&"function"==typeof e?i(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}}},["NHnr"]);
//# sourceMappingURL=app.253ca8c996fd74aba7f6.js.map